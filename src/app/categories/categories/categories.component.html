<div class="container my-5">
    <div class="new-category mb-2">
        <button pButton pRipple label="New Category" class="new-category-button" (click)="onNewCategoryClicked()"></button>
    </div>
    <p-table [value]="filteredCategories" [tableStyle]="{ 'min-width': '30rem' }">
        <ng-template pTemplate="caption">
            <div class="flex">
                <div class="category-heading">
                    Categories
                </div>
                <div class="search-box flex">
                    <i *ngIf="search.length > 0" class="pi pi-times" (click)="clearSearch()" style="font-size: 1rem"></i>
                    <input type="text" pInputText [(ngModel)]="search"/>
                    <button pButton pRipple label="Search" icon="pi pi-search" class="search-button" (click)="filterCategories()"></button>
                </div>
            </div>
        </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th>Category Name</th>
                    <th>Created At</th>
                    <th>Actions</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-category>
                <tr>
                    <td>{{category.categoryName}}</td>
                    <td>{{category.created_at | date:"medium"}}</td>
                    <td class="flex">
                        <div>
                            Detail<i class="pi pi-eye mx-2" style="font-size: 1rem"></i> 
                        </div>
                        <div>
                            Edit <i class="pi pi-user-edit mx-2" style="font-size: 1rem"></i>
                        </div>
                        <div>
                            Deactivate <i class="pi pi-times-circle mx-2" style="font-size: 1rem"></i>
                        </div>
                    </td>
                </tr>
            </ng-template>
    </p-table>
    <app-new-category *ngIf="visible" [visible]="visible"></app-new-category>
</div>